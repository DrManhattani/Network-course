
	✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤ ETHERNET ✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤

	ETHERNET - технология и набор протоколов, которые работают на канальном уровне (Data Link 
    Layer) модели OSI. Ethernet определяет стандарты для передачи данных в локальных сетях (LAN) 
    и включает в себя как физический уровень (Physical Layer), так и канальный уровень.

	--------------------+-------------------+----------------------------------+--------------------
	ТИПЫ ETHERNET:		|   Скорость	    |	Кабель						   |	Стандарт
	--------------------+-------------------+----------------------------------+--------------------
	1. Ethernet			|   10 		Мбит/с  |	Витая пара, оптика, коаксиал   |	802.3
	2. Fast Ethernet	|	100 	Мбит/с  |	Витая пара, оптика			   |	802.3u
	3. Gigabit Ethernet	|	1 		Гбит/с  |	Витая пара, оптика			   |	802.3z; 802.3ab
	4. 5G Ethernet		|	2,5; 5  Гбит/с  |	Витая пара					   |	802.3bz
	5. 10G Ethernet		|	10 		Гбит/с  |	Витая пара, оптика			   |	802.3ae; 802.3an
	6. 100G Ethernet	|	40; 100 Гбит/c  |				оптика			   |	802.3ba
	--------------------+-------------------+----------------------------------+--------------------
	
	ДВЕ ТЕХНОЛОГИИ ETHERNET:
	
	1. Классический Ethernet - использует общую среду передачи данных, такую как коаксиальный кабель или концентратор 
	   (hub). В этом типе сети все устройства подключены к одной общей шине или концентратору, и все данные передаются 
	   по этой общей среде.

		Метод доступа к среде CSMA/CD. Carrier Sense Multiple Access with Collision Detection.
		Множественный доступ с прослушиванием несущей частоты и обнаружением колллизий.
		Компьютеры передают данные только, если среда свободна. Прослушивание среды - способ определить свободна среда
		или занята. Компьютер проверяет, нет ли в среде несущей частоты.

		Компьютер передает и принимает данные одновременно. Если переданные сигнал отличается от принятого, значит
		возникла коллизия.
		Jam-последовательность - передается компьютером при обнаружении коллизии, для того чтобы другие компьютеры легче
		ее распознали.
		
		Модель CSMA/CD:
		1. Период передачи - компьютеру удалось захватить доступ к разделяемой среде, и он передает свои данные.
			- После окончания Преамбулы компьютер начинает передавать кадр.
			- Все остальные компьютеры в сети начинают принимать кадр и записывают его в свой буфер.
				-- Чтение начинается с MAC-адреса получателя. Если он не совпадает с адресом принимающего компьютера, то
				   кадр отбрасывается. Если совпадает, то компьютер продолжает чтение.
			- Есть специальный режим сетевого адаптера - неразборчивый, при котором принимаются все кадры, не зависимо от
			  MAC-адреса назначения.
			- После передачи кадра, компьютер выдерживает межкадровый интервал, его длина 9,6 мкс ( в классическом Ethernet).
			  Это нужно, чтобы не один компьютер не монополизировал разделяемую среду передачи данных, а так же, чтобы 
			  подготовить сетевые адаптеры к передаче последующих кадров.

		2. Период конкуренции - компьютеры начинают передавать данные в разделяемую среду передачи данных. Возникает
		   коллизия. И так повторяется до тех пор, пока один компьютер не захватит среду передачи данных.
			- Если компьютер начал передавать данные и обнаружил коллизию, он делает паузу длительностью
			  L * 512 битовых интервалов.
				  -- битовый интервал - время между появлениями двух последовательных битов данных (0,1 мкс в классическом 
					 Ethernet).	
				  -- L - выбирается случайно из диапазона (0 - 2^N-1). N - номер попытки.
				  -- После 10 попыток, интервал не увеличивается. После 16 попыток, передача прекращается.
			- Алгоритм хорошо работает только при малой нагрузке. При большой нагрузке сильно увеличивается задержка.
		3. Период простоя - никому данные передавать не нужно, и среда свободна.

		МИНУСЫ классического Ethernet:
		- Плохая масштабируемость
			-- сеть становится неработоспособной при загрузке разделяемой среды выше 30%. Работоспособное количество
			   компьютеров - 30.
		- Низкая безопасность - данные в разделяемой среде доступны всем.
		- Разное время доставки кадра.
			-- из-за коллизий.
			-- плохо для трафика реального времени.

	2. Коммутируемый Ethernet - в этом типе сети каждое устройство подключается к отдельному порту коммутатора, 
	   что позволяет изолировать трафик и уменьшить количество коллизий.

		Особенности работы коммутаторов:
			- Таблица коммутации: соответствие MAC-адресов портам коммутатора.
				-- содержит данные о доступности MAC-адресов через порты коммутатора.
			- Алгоритм обратного обучения: заполнение таблицы коммутации.
				-- при получении кадра считывает адрес отправителя и соотносит его MAC-адрес с номером порта.
			- Алгоритм прозрачного моста: передача кадров коммутатором.
				-- прозрачные мосты незаметны для сетевых адаптеров конечных узлов. Мосты самостоятельно строят
				   адресную таблицу, на основании которой можно решить, передавать кадр в какой-либо другой сегмент
				   или нет. Процесс работы алгоритма прозрачного моста начинается с построения таблицы коммутации.
				   Коммутаторы изучают сеть с помощью алгоритма обратного обучения.
				   Прозрачный мост изолирует внутрисегментный трафик, тем самым сокращая время задержки.


	+-------------------------+-------------------------------------------------------------------------------------+
	| Характеристика          | Классический Ethernet                     | Коммутируемый Ethernet                  |
	+-------------------------+-------------------------------------------+-----------------------------------------+
	| Среда передачи          | Общая (коаксиальный кабель, концентратор) | Изолированная (коммутатор)              |
	| Метод доступа к среде   | CSMA/CD                                   | Полный дуплекс                          |
	| Коллизии                | Возможны                                  | Минимальны                              |
	| Производительность      | Снижается с увеличением числа устройств   | Высокая                                 |
	| Сложность и стоимость   | Прост и дешевле                           | Сложнее и дороже                        |
	| Подходит для            | Небольшие сети с низкими требованиями     | Большие сети с высокими требованиями    |
	| Масштабируемость		  | Плохая									  | Высокая									|
	| Безопасность			  | Низкая									  | Высокая									|
	+-------------------------+-------------------------------------------+-----------------------------------------+
	
	ФОРМАТЫ КАДРА ETHERNET:
	
	1. Ethernet в Xerox - сейчас почти не используется.
	2. Ethernet II (Ethernet DIX) - фирменный стандарт Ethernet компаний DEX, Intel, Xerox.
	3. IEEE 802.3 - юридический стандар Ethernet, долго разрабатывали. За это время стал
	   популярным Ethernet II. Все современное оборудование Ethernet поддерживает оба формата кадров.

		* 2 и 3 незначительно отличаются друг от друга. Ethernet II исплользуется чаще.	

	🖧  СТРУКТУРА ETHERNET-КАДРА: (формат кадра одинаковый для классического и коммутируемого)
				a) Преамбула (preamble) - использовалась в классическом Ethernet. Это такая последовательность
				   данных, которая передается перед началом каждого кадра. Она состоит из 8 байт. 
				   Первые 7 байт представляют собой чередующиеся 10101010. Последний байт 10101011.
				   В более поздних версиях Ethernet (в частности, Fast Ethernet) другая схема кодирования:
				   Используются символы, которые не используются для представления данных в качестве
				   сигналов о начале и конце кадра. Перед отправкой передаются символы J и K. После
				   окончанию символ T. 
				б) MAC-адрес source, 6 байт
				в) MAC-адрес destination, 6 байт
				г) Type/Lenght - тип протокола и длина данных, 2 байта (IPv4-0800, IPv6-86DD, ARP-0806).
				д) Данные (Data) - 46-1500 байт.
				ж) Контрольная сумма (Frame Check Sequence) - алгоритм для обнаружения ошибок. Если 
				   произошла ошибка - кадр отбрасывается и производится повторная отправка (но есть коды, 
				   исправляющие ошибки), 4 байта.
				   В Ethernet II - при ошибке кадр просто отбрасывается, считается, что ошибки в проводной среде
				   происходят очнеь редко и, если они произойдут, то могут быть обработаны протоколами вышестоящих
				   уровней. 
				   В формате IEEE 802.3 - вместо поля type используется lenght (длина поля данных кадра - это 
				   следующее поля в заголовке).

	КОММУТАТОР И КОЛЛИЗИИ:
		1. К каждому коммутатору подключен только один компьютер/коммутатор.
			- Полный дуплекс - коллизии не возникают.
			- Полудуплекс - возможно, возникновение коллизий, когда коммутатор и компьютер начинают передавать данные
			  одновременно (почти не используется).
		2. К порту коммутатора подключен концентратор - порт подключается к общей среде передачи данных, соответственно
		   на нем могут возникать коллизии.
