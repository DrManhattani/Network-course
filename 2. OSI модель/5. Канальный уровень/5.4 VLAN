
	✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤ VLAN ✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤✤

	Виртуальная локальная сеть - технология, позволяющая разделить единую сеть на несколько
	логических сетей, изолированных друг от друга.
	
	Технология реализуется коммутаторами и находится на канальном уровне.


	ЗАЧЕМ разделять сеть?
	- Разные отделы внутри крупной компании
	- Разные компании в бизнес центре
	

	ПРЕИМУЩЕСТВА:
	- Безопасность
	- Распределение нагрузки
	- Ограничение широковещательного трафика. Если коммутатор не знает, на каком порту находится получатель,
	  он отправляет трафик на все порты. Если вы изолируете сеть, то широковещательный трафик распространяется
	  только в рамках этой изолированной сети.


	ТАБЛИЦА КОММУТАЦИИ:
	- В нее добавляется новое поле для VLAN.
	- Подход с таблицей коммутации и с номерами VLAN хорошо работает, если сеть построена на одном коммутаторе.
	  Когда информация передается от одного коммутатора к другому, необходима информация о том, к какому VLAN
	  принадлежит кадр.
	  Информацию о номере VLAN нужно включать в передаваемый кадр. Необходимо было изменение формата кадра.
	  Стандарт IEEE 802.1Q описывал формат кадра со включением в него номера VLAN.
		-- В поле "Тип кадра" вместо кода протокола верхнего уровня предлагается вставлять специальное значение
		   0х8100 - указатель, что кадр с VLAN.
		-- Далее, в части Ethernet, где должны находиться данные, идет поле из 2 байт, содержащее номер VLAN.
		   Называется это поле ТЕГ. После него идет поле, содержащее код протокола вышестоящего уровня, называемое
		   ТИП.
		-- Чтобы была возможность передавать кадры с идентификатором VLAN с полем ДАННЫЕ величиной 1500 байт,
		   максимальная длина кадра была увеличена на 4 байта.

	* Поначалу сетевые адаптеры не поддерживали стандарт 802.1Q. Поэтому информация о номере VLAN добавлялась
	  коммутаторами и использовалась только коммутаторами. Рассмотрим процесс передачи данных с использованием
	  стандрата 802.1Q:
		-- Сетевой адаптер в компьютере генерирует обычный сетевой кадр. В поле ТИП ПРОТОКОЛА следующего уровня
		   содержится значение 0х0800 (IPv4 протокол).
		-- Коммутатор получает кадр, понимает, что он был получен с компьютера, входящий в какой-то определенный
		   VLAN (например, 2). 
		   Коммутатор добавляет в поле ТИП ПРОТОКОЛА следующего уровня добавляет служебную информацию. 0х0800
		   заменяется на 0х8100.
		   Затем - добавляется номер VLAN в поле ТЕГ.
		   Затем записывается код протокола следующего уровня 0х0800, чтобы потом его можно было восстановить.
		-- Принимающий коммутатор извлекает информацию о VLAN, понимет, что кадр был отправлен в VLAN с номером 2.
		   После этого коммутатор удаляет информацию из кадра о номере VLAN и восстанавливает старое значение
		   протокола следующего уровня 0х0800.
		-- Коммутатор пересылает восстановленный кадр принимающему компьютеру.

	* На сегодняшний момент почти все сетевые адаптеры поддерживают стандарт 802.1Q и сами вставляют информацию о
	  номере VLAN.

